openapi: 3.1.0
info:
  title: Order Service API
  version: 0.1.0
paths:
  /api/v1/orders:
    post:
      summary: Place order from cart
      operationId: placeOrder
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PlaceOrderRequest'
      responses:
        '200':
          description: Order created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlaceOrderResponse'
  /api/v1/orders/payment-callback:
    post:
      summary: Payment gateway callback
      operationId: paymentCallback
      responses:
        '200':
          description: Payment processed
components:
  schemas:
    PlaceOrderRequest:
      type: object
      required: [orderId, cartId]
      properties:
        orderId: { type: string, format: uuid }
        cartId: { type: string, format: uuid }
        customerId: { type: string, format: uuid }
        idempotencyKey: { type: string }
    PlaceOrderResponse:
      type: object
      required: [orderId, status]
      properties:
        orderId: { type: string, format: uuid }
        status: { type: string }
